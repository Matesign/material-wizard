/**
 * 
 * @version v0.0.1 - 2015-03-01 * @link 
 * @author Adel
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */!function(){"use strict";var a=angular.module("matesign.wizard",["ngMaterial","ngAnimate"]);a.directive("mtWizard",["$timeout","$document",function(a,b){return{scope:{btnBgColor:"@",activeBtnBgColor:"@",inactiveBtnBgColor:"@",btnProgressColor:"@",activeBtnProgressColor:"@",onFinish:"&"},restrict:"E",transclude:!0,controller:["$scope",function(a){function b(b,c){b.selected=c,a.curentStepTitle=c?b.title:"",b.wizardBtnStyle={"background-color":c?a.activeBtnBgColor:a.btnBgColor}}a.selectedIndex=0,a.curentStepTitle="";var c=a.steps=[];this.addStep=function(d){c.push(d),d.progresscircleStyle={"background-color":a.btnProgressColor},d.wizardBtnStyle={"background-color":a.btnBgColor},1==c.length&&b(d,!0)},a.next=function(){a["goto"](Math.min(a.selectedIndex+1,c.length-1))},a.previous=function(){a["goto"](Math.max(a.selectedIndex-1,0))},a["goto"]=function(d){a.stepPossible(d)&&(b(c[a.selectedIndex],!1),a.selectedIndex=d,b(c[d],!0))},a.stepPossible=function(a){return c[a].canenter}}],template:function(){var a='<div layout="column" class="md-whiteframe-z1" layout-padding> <div layout="row"  layout-sm="column" layout-align="space-between start" layout-margin>  <div><h3>{{curentStepTitle}}</h3></div>  <div layout="row" layout-align="end center" layout-margin>  <div  ng-repeat="step in steps" layout="row" layout-align="center center"  ng-click="goto($index)" >   <md-button class="md-fab  wizard-button" aria-label="step button" ng-disabled="!step.canenter" >     <div class="circle-loader-wrap" ng-style="step.progresscircleStyle"><div class="circle-loader-wrap after" ng-style="step.wizardBtnStyle" ></div></div>     <div class="wizard-step-img"><md-icon md-svg-src="{{step.stepImg}}" class="icon"></md-icon></div>     <md-progress-circular md-mode="determinate" md-diameter="63"  ng-value="{{step.stepFill}}"></md-progress-circular>   </md-button>   <md-progress-linear md-mode="determinate" value="0" md-mode="buffer" md-buffer-value="100" class="md-primary wizard-progress-linear" ng-show="$index<steps.length-1"></md-progress-linear >  </div></div> </div><md-divider ></md-divider> <div layout="row"  class="wizard-container" ng-transclude ></div> <div layout="row" layout-align="end center" >  <md-button class="md-fab wizard-chevron-left" aria-label="previous" ng-click="previous()" ng-show="selectedIndex > 0 "></md-button>  <md-button class="md-fab wizard-chevron-right" aria-label="next" ng-click="next()" ng-show="selectedIndex < steps.length -1"></md-button> </div>';return a},link:function(c){var d=function(){var a=b[0].querySelectorAll("md-progress-linear .md-container");angular.forEach(a,function(a){angular.element(a).css("background-color",c.btnProgressColor)})};a(d,0)}}}]),a.directive("mtWzStep",function(){return{require:"^mtWizard",restrict:"E",transclude:!0,replace:!0,scope:{title:"@",stepImg:"@",stepFill:"@",canenter:"=",onExit:"&"},template:'<div ng-show="selected"  ng-transclude layout-fill> </div>',link:function(a,b,c,d){a.stepFill=0,a.nextProgressValue=0,a.$watch("canenter",function(b){a.nextProgressValue=b?100:0}),d.addStep(a)}}})}();